function chart(){function t(t){e.top=""===m?0:35,n=n-e.left-e.right,a=a-e.top-e.bottom;var A=t.append("svg").attr("class","cls-"+t.attr("id")).attr("width",n+e.left+e.right).attr("height",a+e.top+e.bottom),B=A.append("text").attr("y","1.2em").attr("class","d3chart-title").attr("x",e.left).text(m);switch(t.append("span").attr("class","d3chart-subtitle").style("margin-left",e.left+"px").text(g),p){case"bottom-right":d=3*n/4,f=a-a/6;break;case"bottom-left":d=n/6,f=a-a/6;break;case"top-right":d=3*n/4,f=a-5*a/6;break;case"top-left":d=n/6,f=a-5*a/6;break;default:d=3*n/4,f=a-a/6}t.each(function(t){function p(){var e=s.invert(d3.mouse(this)[0]),n=h(t,e,1),a=t[n-1],r=t[n],o=e-a.Date>r.Date-e?r:a;E.attr("transform",function(t){return"translate("+s(o.Date)+","+l(o[t])+")"}),E.select("text").text(function(t){return v(o[t])})}t.forEach(function(t){t.Date=x(t.Date)}),r=d3.keys(t[0]).filter(function(t){return"Date"!==t}),b.domain(r),o=r.map(function(e){return{name:e,values:t.map(function(t){return{x:t.Date,y:+t[e]}})}}),t.map(function(t){i.push(t.Date)}),s.range([0,n]).domain(d3.extent(i)),l.range([a,0]).domain([d3.min(o,function(t){return d3.min(t.values,function(t){return t.y})}),d3.max(o,function(t){return d3.max(t.values,function(t){return t.y})})]).nice(),plot=A.append("g").attr("transform","translate("+e.left+","+e.top+")");var m=plot.append("g").attr("class","key"),g=m.append("text").attr("y",f-15).attr("class","d3chart-key");r.forEach(function(t,e){m.append("rect").attr("y",f+15*e).attr("x",d-15).attr("height",10).attr("width",10).style("fill",b(t)),g.append("tspan").attr("alignment-baseline","hanging").attr("x",d).attr("dy",15).attr("class",t+"-key key").text(t)}),c.tickFormat(v),plot.append("g").attr("class","x axis").attr("transform","translate(0,"+a+")").call(u);var B=plot.append("g").attr("class","y axis").call(c);if(D){var F="top"===w?0:-a+10,L="top"===w?"end":"start";B.append("text").attr("transform","rotate(-90)").attr("y",6).attr("x",F).attr("dy",".71em").style("text-anchor",L).text(D)}var C=plot.selectAll(".series").data(o).enter().append("g").attr("class","series");C.append("path").attr("class","line").attr("d",function(t){return y(t.values)}).style("stroke",function(t){return b(t.name)});var E=plot.selectAll(".focus").data(r).enter().append("g").attr("class","focus").style("display","none");E.append("circle").attr("r",4.5),E.append("text").attr("x",9).attr("dy",".35em"),plot.append("rect").attr("class","overlay").attr("width",n).attr("height",a).on("mouseover",function(){E.style("display",null)}).on("mouseout",function(){E.style("display","none")}).on("mousemove",p),k&&A.append("g").attr("class","d3credit").append("text").attr("y",a+e.top+e.bottom).attr("x",n+e.left+e.right).attr("text-anchor","end").text(k)})}var e={top:50,right:40,bottom:30,left:40},n=400,a=310,r,o=[],s=d3.time.scale(),i=[],l=d3.scale.linear(),u=d3.svg.axis().scale(s).ticks(5).orient("bottom"),c=d3.svg.axis().scale(l).ticks(4).orient("left"),p="bottom-left",d,f,m="",g="",h=d3.bisector(function(t){return t.Date}).left,y=d3.svg.line().defined(function(t){return!isNaN(t.y)}).x(function(t){return s(t.x)}).y(function(t){return l(t.y)}),x=d3.time.format("%-m/%-d/%y").parse,v=d3.format("d"),b=d3.scale.ordinal().range(["#5d85b8","#D0021B","#D8D118","#616B31","#96DAD8"]),k="",D="",w="top";return t.title=function(e){return arguments.length?(m=e,t):m},t.subtitle=function(e){return arguments.length?(g=e,t):g},t.width=function(e){return arguments.length?(n=e,t):n},t.height=function(e){return arguments.length?(a=e,t):a},t.marginLeft=function(n){return arguments.length?(e.left=n,t):e.left},t.marginBottom=function(n){return arguments.length?(e.bottom=n,t):e.bottom},t.yFormat=function(e){return arguments.length?(v=d3.format(e),t):v},t.dateFormat=function(e){return arguments.length?(x=d3.time.format(e).parse,t):x},t.keyPosition=function(e){return arguments.length?(p=e,t):p},t.chartCredit=function(e){return arguments.length?(k=e,t):k},t.yAxisLabel=function(e){return arguments.length?(D=e,t):D},t.yAxisLabelPosition=function(e){return arguments.length?(w=e,t):w},t}var hyphenateClass=function(t){var e=t.split(" ");return e.join("-")};